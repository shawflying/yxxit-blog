<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>npm 常用命令 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="简介NPM(Node Package Manger)NPM是随同NodeJS一起安装的包管理工具，能解决NodeJS代码部署上的很多问题，常见的使用场景有以下几种：  允许用户从NPM服务器下载别人编写的第三方包到本地使用。 允许用户从NPM服务器下载并安装别人编写的命令行程序到本地使用。 允许用户将自己编写的包或命令行程序上传到NPM服务器供别人使用。npm 安装   Windows 下，一般情">
<meta property="og:type" content="article">
<meta property="og:title" content="npm 常用命令">
<meta property="og:url" content="http://yoursite.com/2017/03/21/npm/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="简介NPM(Node Package Manger)NPM是随同NodeJS一起安装的包管理工具，能解决NodeJS代码部署上的很多问题，常见的使用场景有以下几种：  允许用户从NPM服务器下载别人编写的第三方包到本地使用。 允许用户从NPM服务器下载并安装别人编写的命令行程序到本地使用。 允许用户将自己编写的包或命令行程序上传到NPM服务器供别人使用。npm 安装   Windows 下，一般情">
<meta property="og:updated_time" content="2017-03-24T06:19:56.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="npm 常用命令">
<meta name="twitter:description" content="简介NPM(Node Package Manger)NPM是随同NodeJS一起安装的包管理工具，能解决NodeJS代码部署上的很多问题，常见的使用场景有以下几种：  允许用户从NPM服务器下载别人编写的第三方包到本地使用。 允许用户从NPM服务器下载并安装别人编写的命令行程序到本地使用。 允许用户将自己编写的包或命令行程序上传到NPM服务器供别人使用。npm 安装   Windows 下，一般情">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/view/favicon.ico">
  
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Søk"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-npm" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/21/npm/" class="article-date">
  <time datetime="2017-03-21T00:43:59.685Z" itemprop="datePublished">2017-03-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      npm 常用命令
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="简介NPM-Node-Package-Manger"><a href="#简介NPM-Node-Package-Manger" class="headerlink" title="简介NPM(Node Package Manger)"></a>简介NPM(Node Package Manger)</h2><p>NPM是随同NodeJS一起安装的包管理工具，能解决NodeJS代码部署上的很多问题，常见的使用场景有以下几种：</p>
<ol>
<li>允许用户从NPM服务器下载别人编写的第三方包到本地使用。</li>
<li>允许用户从NPM服务器下载并安装别人编写的命令行程序到本地使用。</li>
<li>允许用户将自己编写的包或命令行程序上传到NPM服务器供别人使用。<h2 id="npm-安装"><a href="#npm-安装" class="headerlink" title="npm 安装"></a>npm 安装</h2></li>
</ol>
<ul>
<li>Windows 下，一般情况，安装node.js 的同时，npm 也会同时安装。</li>
<li>Ubuntu 下<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install curl</div><div class="line">curl http://npmjs.org/install.sh | sudo sh</div><div class="line">#或者</div><div class="line">sudo apt-get install npm</div><div class="line">#查看npm被安装到哪里</div><div class="line">whereis npm </div><div class="line">#设置成全局：</div><div class="line">ln -s [文件位置/npm]  /usr/local/bin/npm</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="配置镜像"><a href="#配置镜像" class="headerlink" title="配置镜像"></a>配置镜像</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</div><div class="line">npm install  --registry=https://registry.npm.taobao.org</div><div class="line">npm config set registry http://registry.npmjs.org/</div></pre></td></tr></table></figure>
<h2 id="npm-升级"><a href="#npm-升级" class="headerlink" title="npm 升级"></a>npm 升级</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm -g install npm ( 最新稳定版 ) 或</div><div class="line">npm -g install npm@2.9.1 ( 指定版本 )</div></pre></td></tr></table></figure>
<h2 id="常用"><a href="#常用" class="headerlink" title="常用"></a>常用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">npm install -g pm2</div><div class="line">npm install -g nodemon</div><div class="line">npm install -g vue-cli</div><div class="line">npm install -g  webpack</div><div class="line">npm i -g bower  ## 升级</div></pre></td></tr></table></figure>
<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><p>安装必要依赖<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --production</div></pre></td></tr></table></figure></p>
<p>安装开发依赖<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --dev</div></pre></td></tr></table></figure></p>
<p>安装全部依赖<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install</div></pre></td></tr></table></figure></p>
<h4 id="全局安装辅助模块"><a href="#全局安装辅助模块" class="headerlink" title="全局安装辅助模块"></a>全局安装辅助模块</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ npm install pm2 -g # 命令行安装 pm2</div><div class="line">npm install -g cnpm  # 国内开发必用</div><div class="line">npm install -g nodemon</div></pre></td></tr></table></figure>
<h4 id="安装并更新package-json中的版本配置"><a href="#安装并更新package-json中的版本配置" class="headerlink" title="安装并更新package.json中的版本配置"></a>安装并更新package.json中的版本配置</h4><ul>
<li>添加–save 参数安装的模块的名字及其版本信息会出现在package.json的dependencies选项中</li>
<li>添加–save-dev 参数安装的模块的名字及其版本信息会出现在package.json的devDependencies选项中</li>
<li>添加–save-optional 参数安装的模块的名字及其版本信息会出现在package.json的optionalDependencies选项中<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install &lt;name&gt; [–save|–save-dev|–save-optional]</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="安装模块的config的tag配置中含有指定tag的版本"><a href="#安装模块的config的tag配置中含有指定tag的版本" class="headerlink" title="安装模块的config的tag配置中含有指定tag的版本"></a>安装模块的config的tag配置中含有指定tag的版本</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">npm install &lt;name&gt;@&lt;tag&gt;</div><div class="line">Example:</div><div class="line">npm install sax@latest</div><div class="line">安装模块的指定版本</div><div class="line">npm install &lt;name&gt;@&lt;version&gt;</div></pre></td></tr></table></figure>
<h4 id="显示npm的bin目录"><a href="#显示npm的bin目录" class="headerlink" title="显示npm的bin目录"></a>显示npm的bin目录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm bin</div></pre></td></tr></table></figure>
<h4 id="设置npm配置"><a href="#设置npm配置" class="headerlink" title="设置npm配置"></a>设置npm配置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm config set &lt;key&gt; &lt;value&gt; [–global]</div></pre></td></tr></table></figure>
<p>使用–global参数，设置全局配置<br>Example:<br>设置代理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm config set proxy=http://proxy.tencent.com:8080</div></pre></td></tr></table></figure></p>
<h4 id="设置npm的镜像地址"><a href="#设置npm的镜像地址" class="headerlink" title="设置npm的镜像地址"></a>设置npm的镜像地址</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm config set registry http://npm.oa.com</div></pre></td></tr></table></figure>
<p>获取npm配置<br>npm config get <key><br>Example:</key></p>
<h4 id="获取npm当前镜像地址"><a href="#获取npm当前镜像地址" class="headerlink" title="获取npm当前镜像地址"></a>获取npm当前镜像地址</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm config get registory</div></pre></td></tr></table></figure>
<h4 id="删除npm配置"><a href="#删除npm配置" class="headerlink" title="删除npm配置"></a>删除npm配置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm config delete &lt;key&gt;</div></pre></td></tr></table></figure>
<p>Example:</p>
<h4 id="删除代理设置"><a href="#删除代理设置" class="headerlink" title="删除代理设置"></a>删除代理设置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm config delete proxy</div></pre></td></tr></table></figure>
<h4 id="在编辑器中打开npm配置文件"><a href="#在编辑器中打开npm配置文件" class="headerlink" title="在编辑器中打开npm配置文件"></a>在编辑器中打开npm配置文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm config edit</div></pre></td></tr></table></figure>
<h4 id="交互式的创建package-json文件"><a href="#交互式的创建package-json文件" class="headerlink" title="交互式的创建package.json文件"></a>交互式的创建package.json文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm init</div></pre></td></tr></table></figure>
<h4 id="创建模块的压缩包"><a href="#创建模块的压缩包" class="headerlink" title="创建模块的压缩包"></a>创建模块的压缩包</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm pack [&lt;pkg&gt; [&lt;pkg&gt; … ]]</div></pre></td></tr></table></figure>
<p>如果没有参数，则npm会打包当前模块目录<br>发布模块，发布后可通过名称来安装该模块<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm publish &lt;tarball&gt;</div><div class="line">npm publish &lt;folder&gt;</div></pre></td></tr></table></figure></p>
<p>其中：</p>
<p><folder>：包含package.json文件的目录</folder></p>
<p><tarball>：经过gzip压缩并归档的一个URL或文件路径，该压缩包包含单个目录，且该目录内有package.json文件</tarball></p>
<h4 id="删除模块"><a href="#删除模块" class="headerlink" title="删除模块"></a>删除模块</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">npm rm &lt;name&gt;</div><div class="line">npm r &lt;name&gt;</div><div class="line">npm uninstall &lt;name&gt;</div><div class="line">npm un &lt;name&gt;</div></pre></td></tr></table></figure>
<p>注意：不会删除package.json文件dependencies选项中对应的依赖配置</p>
<h4 id="查找模块"><a href="#查找模块" class="headerlink" title="查找模块"></a>查找模块</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">npm search [search terms ..]</div><div class="line">npm s [search terms ..]</div><div class="line">npm se [search terms ..]</div></pre></td></tr></table></figure>
<p>查找匹配查找字符串的模块</p>
<h4 id="更新模块"><a href="#更新模块" class="headerlink" title="更新模块"></a>更新模块</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm update [-g] [&lt;name&gt; [&lt;name&gt; … ]]</div></pre></td></tr></table></figure>
<p>更新指定name列表中的模块。-g参数更新全局安装的模块。<br>如果没有指定name，且不是在某个模块内，会更新当前目录依赖的所有包都会被更新（包括全局和模块内）；如果当前目录在某个模块目录内，会更新该模块依赖的模块，所以不指定name直接运行npm update时，最好在某个模块内运行，以免更新到其他不想更新的模块。</p>
<h4 id="执行脚本"><a href="#执行脚本" class="headerlink" title="执行脚本"></a>执行脚本</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">npm start [&lt;name&gt;]</div><div class="line">npm stop [&lt;name&gt;]</div><div class="line">npm test [&lt;name&gt;]</div><div class="line">npm run [&lt;name&gt;]</div></pre></td></tr></table></figure>
<p>运行package的start脚本，该脚本写在package.json文件scripts的start字段中。<br>该字段的值可以是当前系统控制台可执行的脚本，也可以是当前系统可执行文件的路径。<br>如果不传name参数，则执行当前目录下package.json文件中定义的脚本。<br>详见<a href="https://npmjs.org/doc/misc/npm-scripts.html" target="_blank" rel="external">https://npmjs.org/doc/misc/npm-scripts.html</a></p>
<h4 id="package-json文件"><a href="#package-json文件" class="headerlink" title="package.json文件"></a>package.json文件</h4><p>模块的配置文件，详见<a href="https://npmjs.org/doc/files/package.json.html" target="_blank" rel="external">https://npmjs.org/doc/files/package.json.html</a></p>
<h2 id="发布项目到npm"><a href="#发布项目到npm" class="headerlink" title="发布项目到npm"></a>发布项目到npm</h2><ol>
<li>在<a href="https://www.npmjs.com/" target="_blank" rel="external">NPM官网</a>注册账号</li>
<li>用户验证，命令行执行</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">npm adduser</div><div class="line">npm login # 登录</div><div class="line">npm who am i</div></pre></td></tr></table></figure>
<ol>
<li><p>发布模块，在模块的根文件夹执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm publish</div></pre></td></tr></table></figure>
</li>
<li><p>更新版本</p>
<blockquote>
<p>如果是git库时，会为新版本号创建一条提交信息，package版本号会自动递增。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm version 0.0.4</div><div class="line">npm publish</div></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>将代码同步到github.com</p>
</li>
</ol>
<h2 id="npm常用命令"><a href="#npm常用命令" class="headerlink" title="npm常用命令"></a>npm常用命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">npm search module_name 查找模块</div><div class="line">npm docs module_name 查找模块文档</div><div class="line">npm install 安装package.json指定的所有模块</div><div class="line">npm start</div><div class="line">npm test</div><div class="line">cnpm install gulp --save-dev</div></pre></td></tr></table></figure>
<h2 id="Package-json-属性说明"><a href="#Package-json-属性说明" class="headerlink" title="Package.json 属性说明"></a>Package.json 属性说明</h2><pre>
   name - 包名。
   version - 包的版本号。
   description - 包的描述。
   homepage - 包的官网 url 。
   author - 包的作者姓名。
   contributors - 包的其他贡献者姓名。
   dependencies - 依赖包列表。如果依赖包没有安装，npm 会自动将依赖包安装在 node_module 目录下。
   repository - 包代码存放的地方的类型，可以是 git 或 svn，git 可在 Github 上。
   main - main 字段是一个模块ID，它是一个指向你程序的主要项目。就是说，如果你包的名字叫 express，然后用户安装它，然后require("express")。
   keywords - 关键字
</pre>




      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/03/21/npm/" data-id="cj0ir4g0k0000j4q3ijr5x48b" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/03/23/webstorm/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          webstorm 优化
        
      </div>
    </a>
  
  
    <a href="/2017/03/21/git/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Git 常用命令</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js-规范/">node.js, 规范</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/node-js-规范/" style="font-size: 10px;">node.js, 规范</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Arkiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Siste innlegg</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/03/23/webstorm/">webstorm 优化</a>
          </li>
        
          <li>
            <a href="/2017/03/21/npm/">npm 常用命令</a>
          </li>
        
          <li>
            <a href="/2017/03/21/git/">Git 常用命令</a>
          </li>
        
          <li>
            <a href="/2017/03/05/windows nginx natapp/">windows nginx natapp</a>
          </li>
        
          <li>
            <a href="/2017/02/17/node.js 模块之 pm2/">node.js 模块之 pm2</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 yanm1ng<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>